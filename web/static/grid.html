<!doctype html>

<html>
    <head>
        <meta charset='utf-8'>
        <link rel="stylesheet" type="text/css" href="css/styles.css" />
        <meta http-equiv="content-type" content="text/php; charset=utf-8" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="js/main.js"></script>  
        <script src="http://code.responsivevoice.org/responsivevoice.js"></script>
        <script src="https://cdn.socket.io/socket.io-3.0.1.js"></script>
        <title>P-300 Speller</title>
    </head>

    <body class="language-markup">
    
        <div class="text-insert">
            <input id="inputText" type="text" data-maxitems="6" data-minchars="1" placeholder="INSERT TEXT HERE" style="width:900px"/>
        </div>

      <div class="grid-container" style="margin-bottom:-30px;">

            <!-- BEGIN LETTER/# GRID -->
        <div class="grid-container letters">
            <div class="grid-item row-1 col-0 A">
            	A
            </div>
            <div class="grid-item row-1 col-1 B">
            	B
            </div>
            <div class="grid-item row-1 col-2 C">
            	C
            </div>
            <div class="grid-item row-1 col-3 D">
            	D
            </div>
            <div class="grid-item row-1 col-4 E">
            	E
            </div>
            <div class="grid-item row-1 col-5 F">
            	F
            </div>
            <div class="grid-item row-2 col-0 G">
            	G
            </div>
            <div class="grid-item row-2 col-1 H">
            	H
            </div>
            <div class="grid-item row-2 col-2 I">
            	I
            </div>
            <div class="grid-item row-2 col-3 J">
            	J
            </div>
            <div class="grid-item row-2 col-4 K">
            	K
            </div>
            <div class="grid-item row-2 col-5 L">
            	L
            </div>
            <div class="grid-item row-3 col-0 M">
            	M
            </div>
            <div class="grid-item row-3 col-1 N">
            	N
            </div>
            <div class="grid-item row-3 col-2 O">
            	O
            </div>
            <div class="grid-item row-3 col-3 P">
            	P
            </div>
            <div class="grid-item row-3 col-4 Q">
            	Q
            </div>
            <div class="grid-item row-3 col-5 R">
            	R
            </div>
            <div class="grid-item row-4 col-0 S">
            	S
            </div>
            <div class="grid-item row-4 col-1 T">
            	T
            </div>
            <div class="grid-item row-4 col-2 U">
            	U
            </div>
            <div class="grid-item row-4 col-3 V">
            	V
            </div>
            <div class="grid-item row-4 col-4 W">
            	W
            </div>
            <div class="grid-item row-4 col-5 X">
            	X
            </div>
            <div class="grid-item row-5 col-0 Y">
            	Y
            </div>
            <div class="grid-item row-5 col-1 Z">
            	Z
            </div>
            <div class="grid-item row-5 col-2 0">
            	__
            </div>
            <div class="grid-item row-5 col-3 1">
            	âŒ
            </div>
            <div class="grid-item row-5 col-4 2 emojibtn" style="font-size:20px">
            	ABC<br> ğŸ˜„
            </div>
            <div class="grid-item row-5 col-5 3" onclick="speech()">
            	ğŸ”Š
            </div>
            
        </div>

           <!-- BEGIN EMOJI GRID -->
        <div class="grid-container emoji">
            <div class="grid-item row-1 col-0 emoji1">
            	ğŸ‘
            </div>
            <div class="grid-item row-1 col-1 emoji2">
            	ğŸ‘
            </div>
            <div class="grid-item row-1 col-2 emoji3">
            	ğŸ˜Š
            </div>
            <div class="grid-item row-1 col-3 emoji4">
                ğŸ˜
            </div>
            <div class="grid-item row-1 col-4 emoji5">
            	ğŸ˜‰
            </div>
            <div class="grid-item row-1 col-5 emoji6">
            	ğŸ˜¡
            </div>
            <div class="grid-item row-2 col-0 emoji7">
            	ğŸ´
            </div>
            <div class="grid-item row-2 col-1 emoji8">
            	ğŸ’§
            </div>
            <div class="grid-item row-2 col-2 emoji9">
            	â˜•ï¸
            </div>
            <div class="grid-item row-2 col-3 emoji10">
            	ğŸ•
            </div>
            <div class="grid-item row-2 col-4 emoji11">
            	ğŸ†
            </div>
            <div class="grid-item row-2 col-5 emoji12">
            	ğŸ‘
            </div>
            <div class="grid-item row-3 col-0 emoji19">
            	ğŸ•°ï¸
            </div>
            <div class="grid-item row-3 col-1 emoji20">
            	ğŸ“¸
            </div>
            <div class="grid-item row-3 col-2 emoji21">
            	ğŸš—
            </div>
            <div class="grid-item row-3 col-3 emoji22">
            	ğŸ˜´
            </div>
            <div class="grid-item row-3 col-4 emoji23">
            	ğŸš¿
            </div>
            <div class="grid-item row-3 col-5 emoji24">
            	ğŸ§
            </div>
            <div class="grid-item row-4 col-0 emoji25">
            	ğŸ™
            </div>
            <div class="grid-item row-4 col-1 emoji26">
            	ğŸ‘
            </div>
            <div class="grid-item row-4 col-2 emoji27">
            	â¤ï¸
            </div>
            <div class="grid-item row-4 col-3 emoji28">
            	âœŒï¸
            </div>
            <div class="grid-item row-4 col-4 emoji29">
            	ğŸ‘‹
            </div>
            <div class="grid-item row-4 col-5 emoji30">
            	ğŸ¤˜
            </div>
            <div class="grid-item row-5 col-0 emoji31">
            	ğŸ™ƒ
            </div>
            <div class="grid-item row-5 col-1 emoji32">
            	ğŸ‚
            </div>
            <div class="grid-item row-5 col-2 0">
            	__
            </div>
            <div class="grid-item row-5 col-3 1">
            	âŒ
            </div>
            <div class="grid-item row-5 col-4 2 emojibtn" style="font-size:20px">
            	ABC<br> ğŸ˜„
            </div>
            <div class="grid-item row-5 col-5 3" onclick="speech()">
            	ğŸ”Š
            </div>
        </div>

    </body>

    <script>
        const socket = io('localhost:5000');

        socket.on('connect', () => {
            console.log('Connected to WebSocket server.')
        })

        socket.on('start', (time) => {
            console.log("Start time:", time)
        })

        socket.on('prediction', (prediction) => {
            print("GOT CHAR PREDICTION:", prediction)
            if (prediction) {
                $("#inputText").val($("#inputText").val() + prediction);
            }
        });

        socket.on('disconnect', function() {
            console.log('Disconnected from WebSocket server.')
        })
    </script>

</html>
